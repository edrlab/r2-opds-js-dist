"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ava_1 = require("ava");
var ta_json_x_1 = require("ta-json-x");
var init_globals_1 = require("../src/opds/init-globals");
var opds2_publicationMetadata_1 = require("../src/opds/opds2/opds2-publicationMetadata");
var helpers_1 = require("./helpers");
init_globals_1.initGlobalConverters_OPDS();
init_globals_1.initGlobalConverters_GENERIC();
var titleStr1 = "str1";
var titleStr2 = "str2";
var titleLang1 = "lang1";
var titleLang2 = "lang2";
var titleLangStr1 = {};
titleLangStr1[titleLang1] = titleStr1;
titleLangStr1[titleLang2] = titleStr2;
var titleLangStr2 = {};
titleLangStr2[titleLang1] = titleStr2;
titleLangStr2[titleLang2] = titleStr1;
ava_1.default("JSON SERIALIZE: OPDSPublicationMetadata.Title => string", function (t) {
    var md = new opds2_publicationMetadata_1.OPDSPublicationMetadata();
    md.Title = titleStr1;
    helpers_1.inspect(md);
    var json = ta_json_x_1.JSON.serialize(md);
    helpers_1.logJSON(json);
    helpers_1.checkType_String(t, json.title);
    t.is(json.title, titleStr1);
});
ava_1.default("JSON SERIALIZE: OPDSPublicationMetadata.Title => string-lang", function (t) {
    var md = new opds2_publicationMetadata_1.OPDSPublicationMetadata();
    md.Title = titleLangStr1;
    helpers_1.inspect(md);
    var json = ta_json_x_1.JSON.serialize(md);
    helpers_1.logJSON(json);
    helpers_1.checkType_Object(t, json.title);
    helpers_1.checkType_String(t, json.title[titleLang1]);
    t.is(json.title[titleLang1], titleStr1);
    helpers_1.checkType_String(t, json.title[titleLang2]);
    t.is(json.title[titleLang2], titleStr2);
});
ava_1.default("JSON DESERIALIZE: OPDSPublicationMetadata.Title => string", function (t) {
    var json = {};
    json.title = titleStr1;
    helpers_1.logJSON(json);
    var md = ta_json_x_1.JSON.deserialize(json, opds2_publicationMetadata_1.OPDSPublicationMetadata);
    helpers_1.inspect(md);
    helpers_1.checkType_String(t, md.Title);
    t.is(md.Title, titleStr1);
});
ava_1.default("JSON DESERIALIZE: OPDSPublicationMetadata.Title => string-lang", function (t) {
    var json = {};
    json.title = titleLangStr1;
    helpers_1.logJSON(json);
    var md = ta_json_x_1.JSON.deserialize(json, opds2_publicationMetadata_1.OPDSPublicationMetadata);
    helpers_1.inspect(md);
    helpers_1.checkType_Object(t, md.Title);
    helpers_1.checkType_String(t, md.Title[titleLang1]);
    t.is(md.Title[titleLang1], titleStr1);
    helpers_1.checkType_String(t, md.Title[titleLang2]);
    t.is(md.Title[titleLang2], titleStr2);
});
//# sourceMappingURL=test-JSON-Title.js.map