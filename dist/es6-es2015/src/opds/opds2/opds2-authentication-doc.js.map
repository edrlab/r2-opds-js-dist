{"version":3,"file":"opds2-authentication-doc.js","sourceRoot":"","sources":["../../../../../src/opds/opds2/opds2-authentication-doc.ts"],"names":[],"mappings":";;;;AAQA,yCAAsF;AAItF,iEAA4D;AAC5D,6CAAwC;AAUxC,MAAM,wBAAwB,GAAG,gBAAgB,CAAC;AAClD,MAAM,eAAe,GAAG,OAAO,CAAC;AAKzB,IAAM,qBAAqB,GAA3B,MAAM,qBAAqB;IAoEpB,eAAe;QAGrB,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;YACvB,OAAO,CAAC,GAAG,CAAC,kDAAkD,CAAC,CAAC;QACpE,CAAC;QAGD,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;YACd,OAAO,CAAC,GAAG,CAAC,yCAAyC,CAAC,CAAC;QAC3D,CAAC;QAGD,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;YACX,OAAO,CAAC,GAAG,CAAC,sCAAsC,CAAC,CAAC;QACxD,CAAC;IACL,CAAC;CACJ,CAAA;AArFY,sDAAqB;AAKvB;IADN,IAAA,wBAAY,EAAC,OAAO,CAAC;;oDACA;AAKf;IADN,IAAA,wBAAY,EAAC,IAAI,CAAC;;iDACA;AAKZ;IADN,IAAA,wBAAY,EAAC,aAAa,CAAC;;0DACA;AAMrB;IAFN,IAAA,wBAAY,EAAC,eAAe,CAAC;IAC7B,IAAA,2BAAe,EAAC,qBAAQ,CAAC;;oDACA;AAMnB;IAFN,IAAA,wBAAY,EAAC,wBAAwB,CAAC;IACtC,IAAA,2BAAe,EAAC,yCAAkB,CAAC;;6DACS;AAyCnC;IAHT,IAAA,0BAAc,GAAE;;;;4DAmBhB;gCApFQ,qBAAqB;IADjC,IAAA,sBAAU,GAAE;GACA,qBAAqB,CAqFjC","sourcesContent":["// ==LICENSE-BEGIN==\n// Copyright 2017 European Digital Reading Lab. All rights reserved.\n// Licensed to the Readium Foundation under one or more contributor license agreements.\n// Use of this source code is governed by a BSD-style license\n// that can be found in the LICENSE file exposed on Github (readium) in the project repository.\n// ==LICENSE-END==\n\n// https://github.com/edcarroll/ta-json\nimport { JsonElementType, JsonObject, JsonProperty, OnDeserialized } from \"ta-json-x\";\n\nimport { IWithAdditionalJSON, JsonMap } from \"@r2-lcp-js/serializable\";\n\nimport { OPDSAuthentication } from \"./opds2-authentication\";\nimport { OPDSLink } from \"./opds2-link\";\n\n// application/vnd.opds.authentication.v1.0+json\n\n// [\\n\\s\\S]+?^[ ]+@JsonProperty\\((\"[a-zA-Z]+\")\\)$\n// regexp replace all:\n// $1,\n// tslint:disable-next-line:max-line-length\n// export const OPDSAuthenticationDocSupportedKeys = [\"title\", \"id\", \"description\", \"links\", \"authentication\"];\n\nconst AUTHENTICATION_JSON_PROP = \"authentication\";\nconst LINKS_JSON_PROP = \"links\";\n\n// tslint:disable-next-line:max-line-length\n// https://github.com/opds-community/drafts/blob/abc6cd444e5e727b127317ecf1f0b9071ecd4272/schema/authentication.schema.json\n@JsonObject()\nexport class OPDSAuthenticationDoc implements IWithAdditionalJSON {\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/abc6cd444e5e727b127317ecf1f0b9071ecd4272/schema/authentication.schema.json#L7\n    @JsonProperty(\"title\")\n    public Title!: string;\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/abc6cd444e5e727b127317ecf1f0b9071ecd4272/schema/authentication.schema.json#L11\n    @JsonProperty(\"id\")\n    public Id!: string;\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/abc6cd444e5e727b127317ecf1f0b9071ecd4272/schema/authentication.schema.json#L16\n    @JsonProperty(\"description\")\n    public Description!: string;\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/abc6cd444e5e727b127317ecf1f0b9071ecd4272/schema/authentication.schema.json#L20\n    @JsonProperty(LINKS_JSON_PROP)\n    @JsonElementType(OPDSLink)\n    public Links!: OPDSLink[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/abc6cd444e5e727b127317ecf1f0b9071ecd4272/schema/authentication.schema.json#L27\n    @JsonProperty(AUTHENTICATION_JSON_PROP)\n    @JsonElementType(OPDSAuthentication)\n    public Authentication!: OPDSAuthentication[];\n\n    // BEGIN IWithAdditionalJSON\n    public AdditionalJSON!: JsonMap;\n    // public get SupportedKeys() {\n    //     return OPDSAuthenticationDocSupportedKeys;\n    // }\n\n    // public parseAdditionalJSON(json: JsonMap) {\n    //     parseAdditionalJSON(this, json);\n\n    //     if (this.Authentication) {\n    //         this.Authentication.forEach((auth, i) => {\n    //             auth.parseAdditionalJSON((json[AUTHENTICATION_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Links) {\n    //         this.Links.forEach((link, i) => {\n    //             link.parseAdditionalJSON((json[LINKS_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    // }\n    // public generateAdditionalJSON(json: JsonMap) {\n    //     generateAdditionalJSON(this, json);\n\n    //     if (this.Authentication) {\n    //         this.Authentication.forEach((auth, i) => {\n    //             auth.generateAdditionalJSON((json[AUTHENTICATION_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Links) {\n    //         this.Links.forEach((link, i) => {\n    //             link.generateAdditionalJSON((json[LINKS_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    // }\n    // END IWithAdditionalJSON\n\n    @OnDeserialized()\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore: TS6133 (is declared but its value is never read.)\n    protected _OnDeserialized() {\n        // tslint:disable-next-line:max-line-length\n        // https://github.com/opds-community/drafts/blob/abc6cd444e5e727b127317ecf1f0b9071ecd4272/schema/authentication.schema.json#L61\n        if (!this.Authentication) {\n            console.log(\"OPDSAuthenticationDoc.Authentication is not set!\");\n        }\n        // tslint:disable-next-line:max-line-length\n        // https://github.com/opds-community/drafts/blob/abc6cd444e5e727b127317ecf1f0b9071ecd4272/schema/authentication.schema.json#L62\n        if (!this.Title) {\n            console.log(\"OPDSAuthenticationDoc.Title is not set!\");\n        }\n        // tslint:disable-next-line:max-line-length\n        // https://github.com/opds-community/drafts/blob/abc6cd444e5e727b127317ecf1f0b9071ecd4272/schema/authentication.schema.json#L63\n        if (!this.Id) {\n            console.log(\"OPDSAuthenticationDoc.Id is not set!\");\n        }\n    }\n}\n"]}