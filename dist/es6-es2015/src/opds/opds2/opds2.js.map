{"version":3,"file":"opds2.js","sourceRoot":"","sources":["../../../../../src/opds/opds2/opds2.ts"],"names":[],"mappings":"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","sourcesContent":["// ==LICENSE-BEGIN==\n// Copyright 2017 European Digital Reading Lab. All rights reserved.\n// Licensed to the Readium Foundation under one or more contributor license agreements.\n// Use of this source code is governed by a BSD-style license\n// that can be found in the LICENSE file exposed on Github (readium) in the project repository.\n// ==LICENSE-END==\n\n// https://github.com/edcarroll/ta-json\nimport {\n    JsonConverter, JsonElementType, JsonObject, JsonProperty, OnDeserialized,\n} from \"ta-json-x\";\n\nimport { JsonStringConverter } from \"@r2-utils-js/_utils/ta-json-string-converter\";\n\nimport { OPDSFacet } from \"./opds2-facet\";\nimport { OPDSGroup } from \"./opds2-group\";\nimport { OPDSLink } from \"./opds2-link\";\nimport { OPDSMetadata } from \"./opds2-metadata\";\nimport { OPDSPublication } from \"./opds2-publication\";\n\n// application/opds+json\n\nconst METADATA_JSON_PROP = \"metadata\";\nconst FACETS_JSON_PROP = \"facets\";\nconst GROUPS_JSON_PROP = \"groups\";\nconst CATALOGS_JSON_PROP = \"catalogs\";\nconst PUBLICATIONS_JSON_PROP = \"publications\";\nconst LINKS_JSON_PROP = \"links\";\nconst NAVIGATION_JSON_PROP = \"navigation\";\n\n@JsonObject()\nexport class OPDSFeed {\n\n    // TODO: not in JSON Schema?? https://github.com/opds-community/drafts/issues/23\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/2d027051a725ae62defdc7829b597564e5b8e9e5/schema/feed.schema.json\n    @JsonProperty(\"@context\")\n    @JsonElementType(String)\n    @JsonConverter(JsonStringConverter)\n    public Context!: string[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/2d027051a725ae62defdc7829b597564e5b8e9e5/schema/feed.schema.json#L7\n    @JsonProperty(METADATA_JSON_PROP)\n    public Metadata!: OPDSMetadata;\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/2d027051a725ae62defdc7829b597564e5b8e9e5/schema/feed.schema.json#L11\n    @JsonProperty(LINKS_JSON_PROP)\n    @JsonElementType(OPDSLink)\n    public Links!: OPDSLink[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/2d027051a725ae62defdc7829b597564e5b8e9e5/schema/feed.schema.json#L40\n    @JsonProperty(PUBLICATIONS_JSON_PROP)\n    @JsonElementType(OPDSPublication)\n    public Publications!: OPDSPublication[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/2d027051a725ae62defdc7829b597564e5b8e9e5/schema/feed.schema.json#L48\n    @JsonProperty(NAVIGATION_JSON_PROP)\n    @JsonElementType(OPDSLink)\n    public Navigation!: OPDSLink[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/2d027051a725ae62defdc7829b597564e5b8e9e5/schema/feed.schema.json#L66\n    @JsonProperty(FACETS_JSON_PROP)\n    @JsonElementType(OPDSFacet)\n    public Facets!: OPDSFacet[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/2d027051a725ae62defdc7829b597564e5b8e9e5/schema/feed.schema.json#L86\n    @JsonProperty(GROUPS_JSON_PROP)\n    @JsonElementType(OPDSGroup)\n    public Groups!: OPDSGroup[];\n\n    // https://libraryregistry.librarysimplified.org/libraries\n    @JsonProperty(CATALOGS_JSON_PROP)\n    @JsonElementType(OPDSPublication)\n    public Catalogs!: OPDSPublication[];\n\n    public findFirstLinkByRel(rel: string): OPDSLink | undefined {\n\n        return this.Links ? this.Links.find((l) => {\n            return l.HasRel(rel);\n        }) : undefined;\n    }\n\n    public AddLink(href: string, rel: string, typeLink: string, templated: boolean) {\n        const l = new OPDSLink();\n        l.Href = href;\n        l.AddRel(rel);\n        l.TypeLink = typeLink;\n        if (templated) {\n            l.Templated = true;\n        }\n        if (!this.Links) {\n            this.Links = [];\n        }\n        this.Links.push(l);\n    }\n\n    public AddNavigation(title: string, href: string, rel: string, typeLink: string) {\n        const l = new OPDSLink();\n        l.Href = href;\n        l.TypeLink = typeLink;\n        l.AddRel(rel);\n        if (title) {\n            l.Title = title;\n        }\n        if (!this.Navigation) {\n            this.Navigation = [];\n        }\n        this.Navigation.push(l);\n    }\n\n    public AddPagination(\n        numberItems: number, itemsPerPage: number, currentPage: number,\n        nextLink: string, prevLink: string,\n        firstLink: string, lastLink: string) {\n\n        if (!this.Metadata) {\n            this.Metadata = new OPDSMetadata();\n        }\n        this.Metadata.CurrentPage = currentPage;\n        this.Metadata.ItemsPerPage = itemsPerPage;\n        this.Metadata.NumberOfItems = numberItems;\n\n        if (nextLink) {\n            this.AddLink(nextLink, \"next\", \"application/opds+json\", false);\n        }\n        if (prevLink) {\n            this.AddLink(prevLink, \"previous\", \"application/opds+json\", false);\n        }\n        if (firstLink) {\n            this.AddLink(firstLink, \"first\", \"application/opds+json\", false);\n        }\n        if (lastLink) {\n            this.AddLink(lastLink, \"last\", \"application/opds+json\", false);\n        }\n    }\n\n    public AddFacet(link: OPDSLink, group: string) {\n\n        if (this.Facets) {\n            const found = this.Facets.find((f) => {\n                if (f.Metadata && f.Metadata.Title === group) {\n                    if (!f.Links) {\n                        f.Links = [];\n                    }\n                    f.Links.push(link);\n                    return true;\n                }\n                return false;\n            });\n            if (found) {\n                return;\n            }\n        }\n\n        const facet = new OPDSFacet();\n\n        facet.Metadata = new OPDSMetadata();\n        facet.Metadata.Title = group;\n\n        facet.Links = [];\n        facet.Links.push(link);\n\n        if (!this.Facets) {\n            this.Facets = [];\n        }\n        this.Facets.push(facet);\n    }\n\n    public AddPublicationInGroup(publication: OPDSPublication, collLink: OPDSLink) {\n\n        if (this.Groups) {\n            const found1 = this.Groups.find((g) => {\n                if (g.Links) {\n                    const found2 = g.Links.find((l) => {\n\n                        if (l.Href === collLink.Href) {\n                            if (!g.Publications) {\n                                g.Publications = [];\n                            }\n                            g.Publications.push(publication);\n                            return true;\n                        }\n                        return false;\n                    });\n                    if (found2) {\n                        return true;\n                    }\n                }\n                return false;\n            });\n\n            if (found1) {\n                return;\n            }\n        }\n\n        const group = new OPDSGroup();\n        group.Metadata = new OPDSMetadata();\n        group.Metadata.Title = collLink.Title;\n\n        group.Publications = [];\n        group.Publications.push(publication);\n\n        const linkSelf = new OPDSLink();\n        linkSelf.AddRel(\"self\");\n        linkSelf.Title = collLink.Title;\n        linkSelf.Href = collLink.Href;\n\n        group.Links = [];\n        group.Links.push(linkSelf);\n\n        if (!this.Groups) {\n            this.Groups = [];\n        }\n        this.Groups.push(group);\n    }\n\n    public AddNavigationInGroup(link: OPDSLink, collLink: OPDSLink) {\n\n        if (this.Groups) {\n            const found1 = this.Groups.find((g) => {\n                if (g.Links) {\n                    const found2 = g.Links.find((l) => {\n\n                        if (l.Href === collLink.Href) {\n                            if (!g.Navigation) {\n                                g.Navigation = [];\n                            }\n                            g.Navigation.push(link);\n                            return true;\n                        }\n                        return false;\n                    });\n                    if (found2) {\n                        return true;\n                    }\n                }\n                return false;\n            });\n\n            if (found1) {\n                return;\n            }\n        }\n\n        const group = new OPDSGroup();\n        group.Metadata = new OPDSMetadata();\n        group.Metadata.Title = collLink.Title;\n\n        group.Navigation = [];\n        group.Navigation.push(link);\n\n        const linkSelf = new OPDSLink();\n        linkSelf.AddRel(\"self\");\n        linkSelf.Title = collLink.Title;\n        linkSelf.Href = collLink.Href;\n\n        group.Links = [];\n        group.Links.push(link);\n\n        if (!this.Groups) {\n            this.Groups = [];\n        }\n        this.Groups.push(group);\n    }\n\n    @OnDeserialized()\n    // tslint:disable-next-line:no-unused-variable\n    // @ts-ignore: TS6133 (is declared but its value is never read.)\n    protected _OnDeserialized() {\n        // tslint:disable-next-line:max-line-length\n        // https://github.com/opds-community/drafts/blob/2d027051a725ae62defdc7829b597564e5b8e9e5/schema/feed.schema.json#L121\n        if (!this.Metadata) {\n            console.log(\"OPDS2Feed.Metadata is not set!\");\n        }\n        // tslint:disable-next-line:max-line-length\n        // https://github.com/opds-community/drafts/blob/2d027051a725ae62defdc7829b597564e5b8e9e5/schema/feed.schema.json#L122\n        if (!this.Links) {\n            console.log(\"OPDS2Feed.Links is not set!\");\n        }\n        // tslint:disable-next-line:max-line-length\n        // https://github.com/opds-community/drafts/blob/2d027051a725ae62defdc7829b597564e5b8e9e5/schema/feed.schema.json#L127\n        if (!this.Publications && !this.Navigation && !this.Groups && !this.Catalogs) {\n            console.log(\"One of OPDS2Feed.Publications|Navigation|Groups|Catalogs must be set!\");\n        }\n    }\n}\n"]}